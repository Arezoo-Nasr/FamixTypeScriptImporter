# FamixTypeScriptImporter

[![Node.js CI](https://github.com/maelpaul/FamixTypeScriptImporter/actions/workflows/node.js.yml/badge.svg)](https://github.com/maelpaul/FamixTypeScriptImporter/actions/workflows/node.js.yml)

Create a [FamixTypeScript](https://github.com/fuhrmanator/FamixTypeScript) model in JSON of TypeScript files.

## Installation

```sh
npm install
```

```sh
npm install -g ts-node
```

## Usage

Instructions for using the command-line importer:

```sh
ts-node src/ts2famix-cli.ts --help
```

## Parse a full project

```sh
ts-node src/ts2famix-cli.ts -i "../path/to/project/**/*.ts" -o JSONModels/myTypeScriptProject.json
```

This command allows to parse all TypeScript files and ignores the HTML or CSS ones (which is particularly interesting to avoid HTML files in Angular-like projects).

## Generate an object diagram of the JSON model

```sh
ts-node src/famix2puml.ts -i JSONModels/ModelName.json -o PUMLModels/ModelName.puml
```

## Import the JSON model into Moose ðŸ«Ž

```st
'JSONModels/TypeScriptModel.json' asFileReference readStreamDo:
  [ :stream | model := FamixTypeScriptModel new 
    importFromJSONStream: stream. model install ].
```

## TypeScript Metamodel API documentation (visualization)

The following was generated by CI using [tplant](https://github.com/bafolts/tplant), in a similar fashion described [here](https://modularmoose.org/2021/07/19/automatic-metamodel-documentation-generation.html).

![FamixTypeScript API Metamodel](https://raw.githubusercontent.com/maelpaul/FamixTypeScriptImporter/v1/doc/famix-typescript-model.svg)
